# C++: 描述内存分配方式以及它们的区别。

1. 栈内存

    栈内存的申请和释放是很容易且代价很低的. 只需将移动栈顶指针即可. 其地址生成是从高向低生长的, 栈的特性让其很容易实现递归. 不过默认栈空间大小很小(8MB), 小心爆栈.

2. 堆内存

    堆内存的申请和释放比较麻烦, 需要经过`malloc`函数, 其会调用`sbrk / mmap`系统调用进行堆内存的分配. 释放的话只有当该块极其下面申请块被释放后才能统一释放, 因此效率是很低的. 所有出现了如`ptmalloc`和`jemalloc`等内存申请和释放管理器. 其次堆内存的申请和释放都需要程序员自行管理, 这通常使用基于RAII机制的智能指针来管理.

3. 全局变量区

    包含全局未初始化段.bss、全局数据段.data和只读段, 程序的全局变量存储在此.
