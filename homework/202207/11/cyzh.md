## 2022/07/11

### 什么是MESI协议？

`MESI`协议是一种基于`Invalidate`的高速缓存一致性协议，并且支持回写高速缓存的最常见协议之一.

#### MESI优于MSI的优势

两种协议之间最显着的差异是MESI协议中存在的额外“独占”状态。添加了这个额外状态，因为它有许多优点。如果处理器需要读取其他处理器都没有的块然后写入它，那么在MSI的情况下将发生两个总线事务。首先是BusRd请求，在写入块之前读取块，然后是BusRdX请求。这种情况下的BusRdX请求是无用的，因为没有其他缓存具有相同的块，但是一个缓存无法知道这一点。因此，MESI协议通过添加Exclusive状态克服了这一限制，从而节省了总线请求。

#### MESI的缺点

如果由特定块上的各种高速缓存执行连续读取和写入操作，则每次都必须将数据刷新到总线上。因此，主存储器将在每次冲洗时拉动它并保持清洁状态。但这不是一项要求，只是由于MESI的实施而导致的额外开销。 MOESI协议克服了这一挑战。