### C++: volatile 和 atomic 的区别

- `volatile` 是作用在单线程下，针对特定内存使用的

  - 不支持原子性、可见行、有序性，支持禁用优化
  - 用于特殊内存防止编译器级别的优化

- `atomic` 是C++ 11 提供的原子类操作

  - 原子性CAS实现，缓存一致性实现可见性，内存屏障实现有序性，不支持禁用优化

  - 可用在多线程中，对小数据进行原子操作，是安全的

  - 用于普通内存，优化没有副作用

    

- C++中的volatile并不是用来解决多线程竞争问题的，而是用来修饰一些因为程序不可控因素导致变化的变量，比如访问底层硬件设备的变量，以提醒编译器不要对该变量的访问擅自进行优化。因为volatile并不能保证操作的原子性，在读取、写入变量的过程中仍然可能被其他线程打断导致意外结果发生。

- Use `std::atomic` for concurrency, `volatile` for special memory.



### Python: 什么是鸭子类型

Reference: [zhihu](https://zhuanlan.zhihu.com/p/136641575)

- duck typing 
- 多态的一种形式
- 不管对象属于哪个类，也不管声明的具体接口是什么，只要对象实现了相应的方法，函数库可以在对象上执行操作

