### 什么是用户态和内核态？用户态和内核态是如何切换的？

用户态和内核态的是操作系统不同的运行级别，区别在于使用的CPU指令集的权限不同。

内核态：用户权限更高，能够操作更高级的CPU指令，一般是运行的操作系统程序，操作硬件指令，等特权指令，linux中R0级别为内核态。

用户态：普通用户程序，非特权指令。Linux中R3级别为用户态。



用户态和内核态如何切换：

用户态到内核态切换：系统调用、异常、中断陷入（访管指令）。

内核态到用户态：设置程序状态字PSW控制CPU处于用户态，恢复上下文。

https://zhuanlan.zhihu.com/p/388057431

https://cloud.tencent.com/developer/article/1683403