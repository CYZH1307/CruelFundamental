[//]: fcn.mark
## 你对垃圾回收了解多少？优缺点是什么？

GC是一种自动的内存管理机制，当程序占用的某些内存不再使用时就应该释放掉。

评估GC算法的好坏主要是这几个方面：
1. 吞吐量
2. 最大暂停时间
3. 堆内存的使用效率
4. 访问的局部性

常用的GC算法有：

- 标记-整理算法：无碎片；多次遍历HEAP

标记阶段：将所有活动对象及其子对象移动到较为连续的内存中

清除阶段：直接将边界外的内存清除

- 引用-计数算法：回收快，暂停短；实现难，计数器占用多，无法回收循环引用

记录每个对象被引用的次数，每次新建对象、赋值引用和删除引用的同时更新计数器，如果计数器值为0则直接回收内存。

- 分代回收：大多数对象被创建出来后很快就不再使用了

对象在生成空间创建，当生成空间满之后进行 minor gc，将活动对象复制到第一个幸存区，并增加其“年龄”，当这个幸存区满之后再将此次生成空间和这个幸存区的活动对象复制到另一个幸存区，如此反复。

当活动对象的 年龄 达到一定次数后将其移动到老年代

当老年代满的时候就用标记-清除或标记-压缩算法进行major gc
