数据库有两种锁，S锁和X锁：
S锁（shared）：事务可读不可写。（其他事务可以同时添加S锁）
X锁（exclusive）：事务可读可写。（其他事务不可以同时添加任何锁）

1. 一级锁协议：事务T修改数据R之前，先加X锁，直到事务结束时释放（无论是正常结束commit还是非正常结束rollback）
作用：可防止 更新丢失问题。
不能防止： 脏读，不可重复读，幻读等。

2. 在一级锁的条件下，T在读取R之前先加S锁，读完后释放。
作用：可防止更新丢失，脏读。
不能防止： 不可重复读，幻读。

3.三级锁协议：在一级锁的条件下，T在读取R之前先加S锁，事务结束后释放。
作用：可防止 更新丢失，脏读，不可重复读，幻读。
