C++: new/delete和malloc/free之间有什么关系？delete和delete[]有什么区别？使用malloc申请的内存能否通过delete释放？使用new申请的内存能否使用free释放?

C与C++动态管理内存的方式不一样，C是使用malloc/free函数，而C++除此之外还有new/delete关键字。

new/delete是C++关键字，既是运算符也是关键字，需要编译器支持。malloc/free是库函数，需要头文件支持。

new
new运算返回所分配内存单元的起始地址，所以需要把返回值保存在一个指针变量中。若分配不成功，返回NULL，并抛出异常。
new没有为创建的对象命名，只能通过指针去访问对象或者数组。
delete
delete <指针变量>
delete []<动态分配的数组名>
new和delete必须配对使用。
虽然程序结束后系统会自动释放程序和其中数据所占的内存空间，但是为了在程序运行过程中能够重复使用有限的内存资源，防止系统产生内存泄漏，还是应该即时释放不需要的动态分配的内存单元，以便系统能随时对该内存单元进行分配。
delete释放内存，只是销毁内存上的对象，但是指针仍然存在，仍然指向原来的内存，保存原来空间的地址。所以我们应该在释放之后将指针置空，以避免后面不小心解引用造成问题。
