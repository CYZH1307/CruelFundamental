### 为什么虚拟地址空间切换比较耗时

1.保留上下文
2.更新内核数据结构，切换地址空间
3.恢复上下文

如果虚拟地址空间映射的物理内存不在内存中，可能触发缺页中断，涉及到内核态，并且切换虚拟地址空间会导致CPU缓存失效
