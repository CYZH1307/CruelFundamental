### C++: constructor和desctructor能virtual吗

------

构造函数不能为虚函数，因为一般来说必然和构造函数中初始化虚表指针这一流程冲突，当然，从更深一层来讲，使用虚函数的人不用知道这一对象指针所指之物具体是什么，而使用构造函数的人必定知道要构造出什么东西，所以构造函数从使用意义上讲也不用是虚函数。

析构函数可以是虚函数，而且一般来说类会被继承的话也需要定义为虚函数，析构函数若不是虚函数，那么在 delete 一个指针所指对象时，只会从指针类型所代表的那类开始delete，而并非是从指针所指向的内容的实际类开始delete，这显然会少调用很多子类的析构函数，容易造成内存泄漏等问题。