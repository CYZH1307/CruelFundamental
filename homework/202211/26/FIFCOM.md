## bin log和redo log的区别

BinLog 和 Redo Log 在一定 程度上都能恢复数据，但是二者有着本质的区别，具体内容如下：

1)BinLog 是 MySQL 本身就拥有的，不管使用何种存储引擎，BinLog 都存在，而Redo Log 是 InnoDB 存储引擎特有的，只有 InnoDB 存储引擎才会输出Redo Log。

2)Bin Log 是一种逻辑日志，记录的是对数据库的所有修改操作，而 Redo Log 是一种物理日志， 记录的是每个数据页的修改。

3)Redo Log 具有幕等性，多次操作的前后状态是一致的， 而 BinLog 不具有幕等性 ， 记录的是所有影响数据库的操作。例如插入一条数据后再将其删除，则 Redo Log 前后的状态未发生变化，而 BinLog 就会记录插入操作和删除操作。

4)BinLog 开启事务时，会将每次提交的事务一次性写入内存缓冲区 ，如果未开启事务，则每次成功执行插入、更新和删除语旬时，就会将对应的事务信息写入内存缓冲区，而 Redo Log 是在数据准备修改之前将数据写入缓冲区的 Redo Log 中，然后在缓冲区中修改数据。而且在提交事务时，先将 Redo Log 写入缓冲区，写入完成后再提交事务。

5)Bin Log 只会在事务提交时，一次性写入 BinLog，其日志的记录方式与事务的提交顺序有关，并且一个事务的 BinLog 中间不会插入其他事务的 BinLog。而 Redo Log 记录的是物理页的修改，最后一个提交的事务记录会覆盖之前 所有未提交的事务记录，并且一个事务的 Redo Log 中间会插入其他事务的 Redo Log。

6)BinLog 是追加写入，写完一个日志文件再写下一个日志文件，不会覆盖使用，而Redo Log 是循环写入，日志空间的大小是固定的，会覆盖使用。

7)Bin Log 一般用于主从复制和数据恢复，并且不具备崩溃自动恢复的能力，而 Redo Log 是在服务器发生故障后重启 MySQL，用于恢复事务已提交但未写入数据表的数据。