# 4G内存怎么读取一个5G的数据

将物理内存和虚拟内存都分页, 比如每页的大小都为`4kb`. 每个虚拟地址可以分成`页编号` + `页内偏移`. 当访问一个虚拟地址时, 如果其虚拟页没有`load`进物理内存(通过cache的TLB快表和内存中进程的页表查询是否存在), 则发生`缺页中断`, 操作系统找到缺页中断对应的中断服务例程进行页面替换算法, 将虚拟页`load`进内存物理页中. 然后重新执行导致中断的指令即可.

基本的思想就是虚拟化, 每个进程都有自己的虚拟地址空间. 而物理内存只由操作系统管理. 每个进程看起来有很大很大的虚拟地址空间. 而直到虚拟地址被使用的时, 才将其加载进物理内存, 如果长时间没用的话, 从内存中淘汰, 将修改内容写入硬盘.