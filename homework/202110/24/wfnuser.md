# How threads are implemented

线程有两种：1. 系统级线程 2. 用户级线程


## 系统级线程
系统级线程直接受操作系统管理。
每个进程拥有1个PCP； 每个线程拥有一个TCB； 在用户态进行 system call 用于创建和管理线程
系统拥有全部的线程信息；调度时可以分配更多的 CPU 时间 给持有大量线程的进程； 经常block的应用很适合

kernel线程会更慢一些

## 用户级线程
线程在用户态管理；thread操作和方法调用速度一样快；kernel对线程一无所知

无系统线程的操作系统也可以支持； PC 寄存器 stack 和 很小的TCB 在用户进程空间存储；
不需要进行内核态切换操作；非常快速

OS会进行不具效率的调度： 比如调度上一个idle线程；因为thread阻塞，直接阻塞整个进程 等。



