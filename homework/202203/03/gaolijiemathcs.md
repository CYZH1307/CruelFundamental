## 静态嵌套类(Static Nested Class)和内部类(Inner Class)的不同

### 静态嵌套类与内部类定义

nested class分为两种，static和non-static，声明为静态的称为静态嵌套类(static nested class)，非静态的嵌套类称为内部类(inner class)

内部类：定义在一个类内部的类叫内部类，包括内部类的类称为外部类。内部类可以声明访问限制为public protected private等，可以声明为abstract给其他内部类或者外部类继承扩展。外部类按照常规的类访问使用内部类，唯一区别，外部类可以访问内部类的所有方法与属性，包括私有的方法与属性。每个内部类都能独立的继承一个接口的实现，所以无论外围类是否已经继承了某个接口的实现，对于内部类都没有影响。内部类允许继承多个非接口类型(类/抽象类)。

静态嵌套类：在定义的内部类加上static就是静态内部类，多称静态嵌套类。静态嵌套类意味着，要创建静态嵌套类的对象，并不需要其外围类的对象；不能从静态嵌套类访问非静态的外围类对象，不能从静态嵌套类访问外部类的非静态成员。



### 区别

（1）实例化对象方法 内部类需要通过外部类实例化：使用外部类.new 内部类的方式。内部类只能通过外部类来实例化内部类。静态嵌套类可以直接new对象。

```
内部类：先生成外部类对象，再通过外部类对象生成内部类对象。 .new方式
OutClass oc = new OutClass();
OutClass.InnerClass = oc.new InnerClass();
静态嵌套类：不依赖外部实例直接实例化。
OutClass.StaticNstClass = new OutClass.StaticNstClass();
```

（2）内部类中有.this 静态嵌套类没有，内部类可以访问外部类所有成员(方法/属性)，静态内部类只能访问静态成员，静态内部类可以直接用类名调用方法：如果需要生成对外部类对象的引用，可以使用外部类的名字.this来获取。创建内部对象的时候，就已经与外部类对象产生联系，可以使用外部类所有的成员，外部类.new内部类，内部类对象就会捕获一个this引用指向外部类。静态嵌套类没有这种this引用，使得静态嵌套类类似一个static方法。内部类访问外部类方法与属性的方法：'外部类型.this.xxx'。

（3）内部类可以向上转型：内部类可以和普通类一样进行向上转型，转型为基类。如果内部类是private，则只可以被外部类访问，隐藏了接口实现细节。

（4）方法内的类：方法内也可以创建类，但是不能加访问修饰符，方法内部的类不是在调用方法才创建，是实现编译的。

（5）静态嵌套类与内部类内部static字段：静态嵌套类内可以包含static数据、static字段、静态嵌套类。内部类不能有static数据、static字段、静态嵌套类。只有将内部类修饰为static，变为静态嵌套类，才可以在这个类中定义静态的成员变量和方法。

（6）内部类标识符：每个类都会产生一个.class文件，但是名称不是内部类类名，为外围类名字+$+内部类名字



### 使用内部类的原因

- 内部类只给外部类使用，用于隐藏实现
- 内部类提供了进入外部类的一种方式
- 每个内部类可以独立继承一个接口，无论外部类是否继承接口，内部类可以使用多重继承的方式实现接口，对多继承解决方案进一步完善。



