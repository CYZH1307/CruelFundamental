## 什么是缓存雪崩、缓存击穿、缓存穿透？

### 缓存雪崩
概念：某时刻出现大规模的缓存失效（key失效），可能是相同时间过期的key太多或者是Redis宕机，导致大量请求直接到数据库读取，导致数据库压力显著增加，高并发情况下瞬间会导致数据库宕机
解决方案：为防止相同时间过期的key过多，设置过期时间时在原有失效时间上额外增加一个随机值；为防止Redis宕机，可以搭建Redis集群，提高Redis的容灾性；数据库方面，采用分库分表，读写分离策略提高数据库的容灾能力；最后，采用熔断机制，当数据库流量到达一定阈值后，返回“系统拥挤”之类的提示，减轻数据库压力。

### 缓存击穿
概念：雪崩属于大面积的，顾名思义，击穿就是单点的。某个查询热点key失效后，在高并发的情况下，大量针对该热点key的查询直接打到数据库导致数据库压力剧增，叫做缓存击穿。

解决方案：对于热点key，业务允许范围条件下，设置永不过期；或者为减轻数据库压力，使用互斥锁，只有拿到锁才能读取数据，会降低性能

### 缓存穿透
概念：Redis大部分情况下是通过Key查询值，如果请求的key不存在与Redis中，那么请求也会直接打到数据库上，导致数据库压力剧增。
解决方案：可以将无效key存进Redis中，设置为null，但是如果每次key值随机，这种方案则失去作用；使用布隆过滤器，（布隆过滤器：判断某个key不存在则一定不存在于数据库中，判断某个key存在则大概率存在于数据库中，具有一定的误判几率），因此查询之前先用布隆过滤器查询key值是否存在即可。
