### 讲讲拥塞控制

拥塞控制就是避免发送方的数据填满整个网络。

在网络出现拥堵时，如果继续发送大量数据包，可能会导致数据包时延、丢失等，这时 TCP 就会重传数据，但是一重传就会导致网络的负担更重，于是会导致更大的延迟以及更多的丢包，这个情况就会进入恶性循环被不断地放大.

包括四个阶段：

1. 慢启动：当拥塞窗口小于慢启动门限的时候，没收到一个ACK拥塞窗口就+1，相当于是指数增长。
2. 拥塞避免：当拥塞窗口大小超过慢启动门限的时候发生拥塞避免，是线性增长的，收到ACK是增加1。
3. 拥塞发生：当触发了重传机制，也就进入了拥塞发生算法。
   * 超时重传：ssthresh = cwnd / 2, cwnd = 1
   * 快速重传：sshresh = cwnd = cwnd / 2. 
4. 快速恢复：拥塞窗口 `cwnd = ssthresh + 3`重传丢失的数据包。（快速重传和快速恢复算法一般同时使用，快速恢复算法是认为，你还能收到 3 个重复 ACK 说明网络也不那么糟糕）
