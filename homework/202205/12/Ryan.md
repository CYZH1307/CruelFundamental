# 说说TCP 3次握手的过程和四次挥手的过程

## 3次握手

1.发送端发送request告知接收端要发送了。  
2.接收端接到发送端request后回复一个ack_server表示已经准备好。  
3.发送端接到ack_server后发出一个ack_client，表示知道发送端已经准备好，发送端正式就绪。这最后一个ack_client到达接收端后，接收端知道双方都已经准备好，接收端也正式就绪，因此可以准备开始传输。
否则，没有这第三次握手的话，接收端在第二次握手之后就进入就绪状态，那它就无法知道发送端已经知道双方的状态，会变成一直死等或者提前取消就绪状态：前者显然性能不友好，后者会导致发送端的消息扑空。

## 4次挥手

1.发送端发送request告知接收端要结束了，发送端不再发送任何消息。  
2.接收端接到发送端request后回复一个ack_server表示已经准备好要结束，但可能还有需要回复的消息（发送端之前发的消息未处理完）。  
3.接收端处理完毕所有消息，已经把最后一条回复的消息发回之后，再回复一个连接释放信息finish，关闭接收端链接。  
4.发送端接到ack_server和finish后，正式关闭发送端链接。
