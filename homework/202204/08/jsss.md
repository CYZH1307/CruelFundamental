# 统计大量访问日志(分几百 M 和 几百 G 的场景);得出访问次数最多的前 K 个人 (单台机器实现)

1. 几百M

全部加载进内存, 使用哈希表统计次数, 然后使用快速选择排序选出前K大即可.

2. 几百G

先使用哈希表将访问记录分成几百份(每份可以加载进内存单独处理). 然后对每份使用几百M的方法选出前K大. 最后的问题就是如何合并几百份的前K大. 使用多路归并(2022-04-05的方法)即可.


# 10G文件，1G内存，找出最大的K个数，找出重复数

1. 找出重复数

先使用哈希分桶. 然后对每个桶分别找出重复数即可. 也可以使用布隆过滤器, 不过其不能一定保证正确性.

2. 找出最大的K个数

**分治**. 将问题划分为更小的问题, 处理完子问题后直接合并即可(多路合并).

如果数据范围较小(int范围约250MB), 也可以使用`bitmap`标记法(非重复的最大K个).     