# 一个 100G 的文件，内存只有 8G，如何给文件排序，文件内容都是按行存储的 URL

## 思路

采用**分治**的思路. 首先将100G文件平均划分成多个文件块(比如13份, 每一份大小不超过8G). 然后对每一个文件快加载进内存进行排序并记录结果.

接着**合并**多个已经排好序的文件块. 具体思路是合并多个有序数组, 比如可以采用小根堆的方式, 每次确定一个当前全局最小值写入答案文件, 接着把这个最小值所在文件的下一条记录存入这个小根堆. 直到全部文件块都处理完毕.


## 时间复杂度

1. **划分**: $O(N / M) * O(M * logM), N 是数据总数, M 是一个文件块的数据总数, N / M 是文件块数$
2. **合并**: 所有的数据都会进入和出去小根堆一次, 小根堆的大小不超过$N / M$. 因此时间复杂度为$O(N * log(N / M))$