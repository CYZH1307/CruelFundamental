# 如何编写正确且安全的信号处理函数

# 尽可能简单、清晰 #

    1.信号处理函数应只执行尽可能简单的操作。
    2.信号处理函数若访问全局变量，需将其声明为volatile，以避免不必要的编译优化。

# 对errno恰当处理 #

    1.信号处理函数内部若不可避免地改变了线程的errno，需要在信号处理开始前保存errno，以便在信号处理结束后恢复。
    2.若linux库函数有可能被异步信号中断，需根据errno来判断这些异常中断后的错误恢复处理。
    
# 以同步方式处理异步信号 #

    1.若无法在异步信号处理中保证线程安全，可考虑使用sigwait()、sigwaitinfo()、sigtimewait()等函数的功能来实现对特定信号的停等处理，代价是有可能降低性能。
