                                    ┌─────────────┐                              
                                    │             │                              
                                    │  zookeeper  │                              
                                    │             │                              
                                    └─────────────┘                              
                                      ▲         ▲                                
┌──────────────────┐                  │         │                                
│                  │               ┌──┘         └──┐                             
│     producer     │               │               │                             
│                  │               │               │             ┌──────────────┐
└──────────────────┘           .─────────.     .─────────.       │              │
                              ╱           ╲   ╱           ╲      │   consumer   │
                             (   broker    ) (   broker    )     │              │
┌──────────────────┐          `.         ,'   `.         ,'      └──────────────┘
│                  │            `───────'       `───────'    ─────▶              
│     producer     │ ───────▶                                                    
│                  │           .─────────.     .─────────.       ┌──────────────┐
└──────────────────┘          ╱           ╲   ╱           ╲      │              │
                             (   broker    ) (   broker    )     │   consumer   │
                              `.         ,'   `.         ,'      │              │
┌──────────────────┐            `───────'       `───────'        └──────────────┘
│                  │                                                             
│     producer     │                                                             
│                  │                                                             
└──────────────────┘                                                             

producer: 生产数据
consumer: 消耗数据
broker: topic 管理, 事件同步,  日志管理等
zookeeper: 用来选举, 充当 registry, 分配 quota 等


Kafka 最的最小架构很像 Elixir 的 GenStage, 都有 producer, producer/consumer, consumer 
然后event 在这些角色中流动, 然后自然而然的实现背压.

