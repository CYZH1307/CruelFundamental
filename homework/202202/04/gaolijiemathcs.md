# 为什么Redis使用单线程

1、因为Redis基于内存，CPU不是Redis瓶颈、Redis的瓶颈可能为机器内存大小、网络带宽等。单线程容易实现，并且CPU不会成为瓶颈，因此采用单线程的方案。

2、不需要各种锁的性能消耗：Redis数据结构有如list,hash等复杂结构，可能进行很细粒度操作，这些操作如果在多线程下需要加很多的锁，因此同步开销很大。因此使用单线程，则可以避免对锁问题的考虑，不存在加锁释放锁的开销操作，没有因为可能出现死锁而导致性能消耗。

3、单线程多进程集群方案：存在单线程、多进程集群的解决方案。

4、CPU消耗：使用单线程，避免了不必要的上下文切换和竞争，不存在多进程或者多线程切换而消耗CPU。

但是如果CPU成为Redis瓶颈，或者不想让服务器其他CPU闲置：可以多起几个Redis进程，数据之间没有约束。

5、单进程单线程优点

- 代码清晰、处理逻辑简单
- 不考虑锁问题，加锁释放锁操作不存在，不存在死锁
- 不存在多进程或者多线程切换消耗CPU

6、单进场单线程弊端

- 无法发挥多核CPU优点，不过可以单机开多个Redis实例。

7、IO多路复用技术

redis采用网络IO多路复用技术保障多连接，系统的高吞吐量。

多路-多个socket连接，复用-复用一个线程，多路复用技术：select、poll、epoll。

可以让单个线程，处理多个连接请求。

