### Linux消息队列和命名管道的区别

有名管道 (named pipe) ： 采用半双工通信方式，允许无亲缘关系进程间通信。收发数据用read和write。

消息队列( message queue ) ：也能够无亲缘关系进程通信，解决有名管道打开关闭管道的复杂性，消息构成链表，存放在内核由消息队列标识符标识，能够自定义数据类型，发数据用msgsnd，收数据用msgrcv。解决信号方式消息传递信息少、管道只能进行无格式字节流和缓冲区大小受限等缺点。

但消息队列仍然有用户态和内核态数据拷贝开销，并且不适合较大数据传输（因为消息体有长度限制）。

消息队列收发消息因为异步了，不需要有名管道做同步阻塞的操作。并且接收方可以有选择接收消息。命名管道只能默认接收。

