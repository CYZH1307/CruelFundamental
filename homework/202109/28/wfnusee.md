## 讲一讲CAP。为什么会有CP、AP的抉择？

CAP: 指的是分布式系统中的三种特性。一致性、可用性、分区容错性。
Eric Brewer 表示这三种特性并不能同时达成。

## 分区容错性
随着网络负载的不断提升，现在的系统都是分布式的，会跨节点，跨机房甚至跨数据中心。
不同的节点之间需要通过网络连接，网络连接的两端就是两个分区。分区容错性就是只出现网络分区的时候，系统可以正常工作。
由于系统是分布式的，几乎所有的系统都会支持分区容错性。

## 一致性
同一个数据既然有不同的节点存储，他们之间需要有一些通信机制保障数据的一致。
如果客户端任何时刻访问到的数据在不同节点间都是一致的，则系统支持一致性。

## 可用性
系统始终可以给用户返回结果。

## 在三者不能同时保证的时候 我们需要做CP、AP的抉择
大部分互联网应用并不需要保证强一致性，我们更在乎可用性。所以短时间客户端访问不同节点得到的数据不一致是可以接受的，只要他们可以做到最终一致即可。这样的系统往往选择AP。
但一些需要强一致性的应用也是存在的，比如银行，交易所等系统，设计用户金额，肯定需要高度的一致，否则会直接带来损失。所以这样的系统往往会选择CP。
