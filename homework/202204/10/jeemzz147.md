### 负载均衡的实现方案有哪些

* 负载均衡算法

  * 轮询：所有请求被依次分发到每台应用服务器上，即每台服务器需要处理的请求数目都相同，适合于所有服务器硬件都相同的场景。
  * 加权轮询：在轮询的基础上，按照配置的权重将请求分发到每个服务器，高性能的服务器能分配更多的请求。
  * 随机：请求被随机分配到各个应用服务器，即使应用服务器配置不同，可以加权随机算法。（这种方法最常用）
  * 最小连接：记录每一个应用服务器正在处理的连接数，将新的请求分发到最少连接的服务器，也支持加权最小连接。
  * Hash选择：对请求的IP地址进行hash计算，实现同一个IP地址的请求总在一个服务器上处理。（实现对有状态应用服务器高可用的一种方式）

* 常见负载均衡实现方案：

  * 利用Http重定向负载均衡：即利用nginx中的rewirte模块来实现。（客户端行为，不需要服务器转发响应，这种方法性能比较差）
  * DNS域名解析负载均衡：DNS负载均衡的控制权在域名服务商中，通常作为第一级负载均衡手段。（不需要服务器转发响应）
  * 反向代理负载均衡：即利用nginx中的upstream模块来实现（配置简单，但性能也有局限性，响应要通过反向代理服务器返回给客户端）
  * IP负载均衡：即利用网关服务器实现负载均衡（性能有提升，响应要通过网关服务器，受限于其网卡带宽）
  * 数据链路层负载均衡：在通讯协议的数据链路层修改mac地址进行负载均衡。（不需要服务器转发响应，最常见的是LVS）
