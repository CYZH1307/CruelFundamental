### 数据库主从复制的原理是什么？
1、数据库有个 bin-log 二进制文件，记录了所有sql语句。

2、我们的目标就是把主数据库的bin-log文件的sql语句复制过来。

3、让其在从数据的relay-log重做日志文件中再执行一次这些sql语句即可。

4、下面的主从配置就是围绕这个原理配置

5、具体需要三个线程来操作：

（1）binlog输出线程：每当有从库连接到主库的时候，主库都会创建一个线程，然后发送binlog内容到从库。在从库里，当复制开始的时候，从库就会创建两个线程进行处理。

（2）从库I/O线程：当START SLAVE语句在从库开始执行之后，从库创建一个I/O线程，该线程连接到主库并请求主库发送binlog里面的更新记录到从库上。从库I/O线程读取主库的binlog输出线程发送的更新并拷贝这些更新到本地文件，其中包括relay log文件。

（3）从库的SQL线程：从库创建一个SQL线程，这个线程读取从库I/O线程写到relay log的更新事件并执行。
