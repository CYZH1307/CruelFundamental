# DNS劫持

DNS劫持

- 通过某种技术手段，篡改正确域名和IP地址的映射关系，使得域名映射到了错误的IP地址



1. 本地DNS劫持
   - 黑客通过木马病毒或者恶意程序入侵PC，篡改DNS配置(hosts文件，DNS服务器地址，DNS缓存等)
   - 黑客利用路由器漏洞或者破击路由器管理账号入侵路由器并且篡改DNS配置
   - 一些企业代理设备（如Cisco Umbrella intelligent proxy）针对企业内部场景对一些特定的域名做DNS劫持解析为指定的结果
2. DNS解析路径劫持
   - DNS请求转发：过技术手段(中间盒子，软件等)将DNS流量重定向到其他DNS服务器
   - DNS请求复制：利用分光等设备将DNS查询复制到网络设备，并先于正常应答返回DNS劫持的结果
   - DNS请求代答：网络设备或者软件直接代替DNS服务器对DNS查询进行应答
3. 篡改DNS权威记录
   - 黑客非法入侵DNS权威记录管理账号，直接修改DNS记录



防范方法：

- 安装杀毒软件，定期修改路由器管理账号密码和更新固件。
- 给自己的域名权威数据上锁，防止域名权威数据被篡改。
- 选择支持DNSSEC的域名解析服务商，并且给自己的域名实施DNSSEC。DNSSEC能够保证递归DNS服务器和权威DNS服务器之间的通信不被篡改。
- 使用DNS加密技术，如DNS-over-TLS，DNS-over-HTTPS等。

