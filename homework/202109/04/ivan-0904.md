## 布隆过滤器

> https://mp.weixin.qq.com/s/BfAHWsnQkre4iwOuT-DVsA
>
> https://www.cnblogs.com/liyulong1982/p/6013002.html

概述：是一种占用空间很小（优于HashMap）的数据结构，有一个很长的二进制向量和一组Hash函数。用以检索一个元素是否在一个集合中，时间空间效率高，有一定的误识别率和删除困难。

目的：用以解决缓存穿透问题。

所处位置：在缓存未命中之后，请求数据库之前的中间层。

### 算法

1. 使用k个hash函数，每个函数可以把key散列成为1个整数
2. 初始化时，将长度为n比特的数组，每个比特初始化为0
3. 某个key加入集合时，用k个hash函数计算出k个散列值，并把数组中对应的比特位置为1
4. 判断某个key是否在集合时，用k个hash函数计算出k个散列值，并查询数组中对应的比特位，如果所有的比特位都是1，认为在集合中。

### 优点

无需存储key，节省空间

### 缺点

1. 算法判断某个key不在集合中，则一定不在。但无法确定某个key是否在集合中，存在一定的误判率。
2. 无法删除

### 常见开源库

- Google的Guava类库
- Twitter的 Algebird 类库