## 半连接队列和全连接队列

半连接队列和全连接队列都是指TCP连接队列中的等待队列，用于管理TCP连接的三次握手和四次挥手过程。

半连接队列（SYN_RCVD状态）：当服务端接收到客户端的SYN报文后，服务端会回复SYN+ACK报文，此时服务端将TCP连接的状态从LISTEN状态转移到SYN_RCVD状态，并将此连接加入半连接队列，等待客户端的ACK报文。在半连接队列中的连接还没有完成三次握手，处于半打开（Half-open）状态，这些连接只允许客户端向服务端发送ACK报文，而不接受客户端发送的数据。

全连接队列（ESTABLISHED状态）：当客户端发送ACK报文确认服务端的SYN+ACK报文时，此时TCP连接的状态从SYN_RCVD状态转移到ESTABLISHED状态，并将此连接从半连接队列中移除，加入到全连接队列。在全连接队列中的连接状态为完全打开（Fully-open）状态，双方可以进行数据传输。

如果TCP连接的三次握手过程中半连接队列已满，服务端将拒绝客户端的连接请求，客户端会收到RST报文。如果全连接队列已满，服务端将不会接受新的连接请求，客户端会收到SYN+ACK报文，但是连接不会成功建立。
