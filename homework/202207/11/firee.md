### 什么是 MESI 协议？

##### 是一个解决缓存一致性问题的方式

M（Modified）代表该缓存行中的内容被修改了，并且该缓存行只被缓存在该 CPU 中。这个状态的缓存行中的数据和内存中的不一样，在未来的某个时刻它会被写入到内存中（当其他 CPU 要读取该缓存行的内容时。或者其他 CPU 要修改该缓存对应的内存中的内容时
E（Exclusive）代表该缓存行对应内存中的内容只被该 CPU 缓存，其他 CPU 没有缓存该缓存对应内存行中的内容。这个状态的缓存行中的内容和内存中的内容一致。该缓存可以在任何其他 CPU 读取该缓存对应内存中的内容时变成 S 状态。或者本地处理器写该缓存就会变成 M 状态
S（Shared）该状态意味着数据不止存在本地 CPU 缓存中，还存在别的 CPU 的缓存中。这个状态的数据和内存中的数据是一致的。当其他 CPU 修改该缓存行对应的内存的内容时会使该缓存行变成 I 状态
I（Invalid）代表该缓存行中的内容是无效的

参考：https://zhuanlan.zhihu.com/p/351550104
