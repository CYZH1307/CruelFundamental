# 如何处理消息队列的消息积压问题?

1. 海量消息待处理: 
    **扩容**. 采用临时扩容的策略, 以更快的速度去消费消息. 
    - 将现有消费者停掉, 建立好原来多倍数的`queue`数量.
    - 将消息轮询放入新建的`queue`中.
    - 添加多倍的消费者来消费消息.

2. 消息被丢弃: 
    如果设置了过期时间, 消息在`queue`中积压超过一定时间就会被丢弃. 这时可以采用**批量重导**的方案来解决. 即查询丢失的那部分数据, 然后将消息重新发送到`queue`中.


3. 磁盘满了:
    可以在其他机器上新建一个消息队列, 在写一个临时的消费者, 该消费者将消息队列中积压的消息放入临时的消息队列里去.


- 参考
    [消息队列的消息积压解决办法](https://blog.csdn.net/weixin_42039228/article/details/123528619)