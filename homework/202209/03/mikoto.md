## 什么是linux中的文件描述符？ dup和 dup2有什么区别？

Linux系统中，普遍将操作系统上的资源抽象成文件这一概念，诸如硬件设备，普通文件，socket套接字，可移动存储等介质都被抽象成文件。


Linux操作系统中，当一个应用程序或者进程操作系统资源时，首先会触发文件调用时间，通过应用程序或进程发送一个调用文件的信号给系统内核。

内核会在打开文件表中增加一条记录，同时将打开文件表中新增的记录返回给应用程序或者进程，而应用程序或进程收到来自内核返回的信息，称为文件描述符。


dup和dup2函数都用于复制一个现存的文件描述符

调用dup函数式，内核在进程中创建一个新的文件描述符，是当前可用文件描述符集的最小数值。

dup 和 dup2的区别是， dup2可以用newfd参数指定新描述符的数值，如果newfd已经打开则先关闭之，如果newfd等于oldfd则dup2返回newfd二不挂壁。

简单来说，调用dup（oldfd）等价于 fcntl(oldfd, F_DUPFD, 0)
调用dup2(oldfd, newfd)等效于调用close(oldfd); fnct(oldfd, F_DUPFD, newfd)
