直接映射的地址划分

Cache地址：块号+offset

主存地址：组号+块号+offset

但是cache中只能存储一个数据，我们怎么知道cache的块x究竟存储的时哪一组的块x呢？那么我们就需要tag位。

直接映射的tag位：组号，就是主存的前几位。

寻找地址的时候，首先，cpu发出的指令中包含了他需要数据的主存地址，其中包括了块号和offset，这就是可能存储这一数据的cache地址，因此，计算机“前往”这一部分所指向的cache，然后地址中还包含着组号，计算机“前往”这个cache对应的tag中，看里面存储的tag是不是一致，一致即为命中，不一致说明这个数据不在cache里，计算机只能老老实实地“前往”主存中寻找数据。



全相联映射关系很简单，主存中的所有块，都可以放在cache中的任意一块中。

Cache地址：cache块号+offset

主存地址=主存块号+offset

Tag中内容：主存块号

寻找内容时，计算机“拿着”主存的地址，“前往”cache，将手中主存地址中包含的块信息，与所有的tag一个一个比较，如果找到，那么立即命中，拿走数据，如果没命中，那么不好意思，之前的一切都是徒劳，计算机只能“前往”主存中寻找。



组相连，先将cache分为2组，每组4块，而主存中以2个为一组，每组第一块，可以放在cache组0中，每组第二块，可以放在cache组1中。到这一部分还和直接映射没什么区别，但是一个数据可以放在一个组中，，具体放在这个组中的第几块，是没有限制的。这和全相联一致。

Cache地址：组号+组内块号+offset

主存地址：主存组号+组内块号+offset

Tag：主存组号

Cpu指令中包含着主存地址，先根据其中的““组内块号”，寻找cache中对应的“组号”。对于这一组cache，计算机将其的tag依次与主存地址中的“主存组号”相对比，命中得数据，非命中不得数据，去主存中寻找。