### 什么是MESI协议？


MESI协议是基于INvalidate的高速缓存一致性协议，并且是支持回写高速缓存最常用的协议之一。



为什么需要缓存一致性协议？
现代CPU为多喝的情况下，每个核心有自己单独的缓存区，当多个核心操作多个线程对同一个数据进行操作数，如核心B在核心A吧修改完的数据刷新回内存之前，进行了数据的操作，就会导致数据的不确定性。

总线加锁可以解决这种情况，但是，总线加锁会导致严重的性能下降。

缓存一致性写只会对单个的缓存行进行类似加锁的操作，来尽可能的保证数据的一致性。



