## binlog redolog区别？

（1）区别

- redo log 为innodb引擎特有的，binlog为MySQL的Server层实现的，所有引擎都能用。
- redo log为物理日志，记录在某个数据页上面做什么修改；binlog为逻辑语句日志，记录的是这个语句的原始逻辑，例如id=x的这一行的某个字段+1
- redo log循环写，空间固定会用完。binlog可以追加写，binlog写完一定大小，可以切换到下一个内容当中写，不会覆盖。

（2）分工

执行器和innodb执行引擎执行"给id=2的字段c +1的操作"

1、执行器先找引擎取id=2行，id为主键，引擎直接用树搜索找到该行，如果该行已经在内存中，直接返回给执行器，否则先从磁盘读入内存，然后返回。

2、执行器拿到引擎给的行数据，将数值+1，得到行行数据，再调用引擎接口写入新数据。

3、引擎将该行更新到内存中，同时将更新操作记录到redo log,此时redolog处于prepare状态，并且告知执行器执行完成，随时可以提交事务。

4、执行器生成这个操作的binlog，并且binlog写入磁盘。

5、执行器调用引擎的提交事务接口。将刚刚写入redo log改成提交(commit)状态，更新完成。



