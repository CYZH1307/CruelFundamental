# 什么是MVCC

MVCC是多版本并发控制的缩写，通过对每一行保存多个快照版本、每个事务对某一行只能读到特定的快照版本，如此来实现无锁的可重复读隔离级别。属于用空间换时间、提高并发效率的手段。  
InnoDB的实现方式是设立了“版本号”的概念，每个版本号都对应某个事务开始的时间戳。约束如下：
    
    1.每一行都带有[start, end]两个版本号。
    2.版本号之间允许重复，end允许为空，空end相当于正无穷大。
    3.start为该行建立时间，end为该行删除时间。
    4.更新操作相当于是end之后再start。
    5.同一行的多个[start, end]不相交。

这样当每个事务去读某行时，当且仅当trxId属于[start_i, end_i]区间内，才可以该行读到下标为i的快照版本，由约束5可知，该i是唯一的。这样，多次读同一数据，返回结果也唯一的。
