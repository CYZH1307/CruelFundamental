ref: https://blog.csdn.net/a745233700/article/details/85413179#:~:text=%E4%B8%80%E3%80%81Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BF%87%E6%9C%9F,%E7%A7%8D%E6%95%B0%E6%8D%AE%E8%BF%87%E6%9C%9F%E6%B8%85%E9%99%A4%E7%AD%96%E7%95%A5%E3%80%82

- 定期删除：redis默认每隔100ms就随机抽取一些设置了过期时间的key，检查其是否过期，如果有过期就删除。注意这里是随机抽取的。为什么要随机呢？  
因为假如 redis 存了几十万个 key ，每隔100ms就遍历所有的设置过期时间的 key 的话，就会给 CPU 带来很大的负载。
- 惰性删除：定期删除可能导致很多过期的key 到了时间并没有被删除掉。这时就要使用到惰性删除。在你获取某个key的时候，redis会检查一下，这个key如果设置了过期时间并且过期了，是的话就删除。

 定期删除的一大特点就是考虑了定时删除过期数据会占用cpu时间，所以每次执行databasesCron的时候会限制cpu的占用不超过25%。
