# mmap 原理和优势，shared memory原理和优势

## mmap

文件内存映射. 通过`mmap()`函数, 可以将文件映射到内存空间. 相比于传统的`read`或者`write`, 这种方式可以减少一次拷贝过程. 比如`read`会将数据从文件拷贝到内核缓存中, 然后由内核拷贝到进程的缓存中. 而`mmap`只需将文件数据内容拷贝到内核中, 进程通过映射来访问内核中的数据.


## shared memory

共享主存是操作系统提供的进程间通信的机制之一. 其主要通过`mmap`创建全局可见的匿名映射, 然后其他进程可以`attach`到该共享主存块, 并通过信号量等机制来互斥和同步. 优势就是非常的快, 因为直接操作内存, 无需和文件打交道. 
