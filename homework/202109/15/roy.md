## 1. 读写文件

读写文件的过程就是复制文件的过程，把文件复制到不同地方，达到读写的效果。读写文件由于要操作磁盘和内存，所以需要系统内核态功能的帮助。以读文件为例，从磁盘中复制一份到系统内核态内存的缓冲区，再到系统
用户态内存的缓冲区，最后再到调用指令时分配的内存。中间的亢余复制主要是为了，减少读磁盘的总次数和频率，以及用户态内核态切换的频率和次数。


## 2. 零拷贝e
从多次读写操作角度考虑，cache或许能发挥空间换时间的作用，但对单次操作来说，cache意义不大（很可能cache里没有想要的数据），更重要的是，多次复制会减慢读写速度。对于流数据来说，这个影响非常大。

### Mmap
mmap可以让用户内核共享缓存区，可以减少读写时拷贝的次数。

### Sendfile
sendfile可以让用户态内存完全不参与文件传输，这过程只涉及io和内核态内存。
