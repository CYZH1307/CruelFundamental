# DNS 协议，DNS解析过程

Domain Name System，将主机名和域名转换为IP地址。



DNS解析过程：

1. 检查浏览器缓存中是否缓存过该域名对应的IP地址
2. 查找本机系统是否缓存过IP地址
3. 向本地域名解析服务系统发起域名解析的请求：如连接的校园网，解析服务器就在校园机房。

4. 向根域名解析服务器发起域名解析请求
   - 本地域名解析器还没有完成解析的话，那么本地域名解析服务器将向根域名服务器发起解析请求
5. 根域名服务器返回 顶级域名(gTLD，如.com, .net, .edu) 域名解析服务器地址
6. 向gTLD服务器发起解析请求
7. gTLD服务器接收请求并返回Name Server 服务器
8. Name Server服务器返回IP地址给本地服务器
9. 本地域名服务器缓存解析结果
10. 返回解析结果给用户



DNS 安全：

- DoS/DDoS攻击：使重要的 DNS 服务器比如 TLD 服务器或者根域名服务器过载，从而无法响应权威服务器的请求，使 DNS 查询不起作用

- DNS欺骗：改变 DNS 资源内容，比如伪装一个官方的 DNS 服务器，回复假的资源记录，从而导致主机在尝试与另一台机器连接时，连接至错误的 IP 地址

- DNS隧道：使用其他网络协议通过 DNS 查询和响应建立隧道。攻击者可以使用 SSH、TCP 或者 HTTP 将恶意软件或者被盗信息传递到 DNS 查询中，这种方式使防火墙无法检测到，从而形成 DNS 攻击。

- DNS劫持：击者将查询重定向到其他域名服务器。这可以通过恶意软件或未经授权的 DNS 服务器修改来完成。它的目标是名称服务器上网站的 DNS 记录，而不是解析程序的缓存。

  

