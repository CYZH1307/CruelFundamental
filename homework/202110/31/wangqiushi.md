ZooKeeper原理

拥有文件系统特点的数据库，解决了数据一致性问题，具有发布和订阅功能。分布式应用程序借助ZooKeeper可以实现集群管理、Master选举、负载均衡分布式锁和分布式队列功能。

1集群角色：zookeeper集群中只有1个leader，负责更新系统状态、投票的发起和决定；follower在选举过程中参与投票，负责接收客户端请求并返回结果给客户端。observer不参与投票，协助处理接收客户端的请求转发给leader，同步leader状态

2Znode：ZooKeeper维护了一个类似文件系统的数据结构，每个子目录称为Znode，可以进行增删查改操作。

3Watcher监听器：引入watcher监听器实现了发布/订阅功能，能让多个订阅者监听某个主题对象，当对象状态改变时，订阅者将收到通知，当集群内某节点宕机或配置更新，通知集群内其余节点进行相关操作。
