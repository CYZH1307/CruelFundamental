## 计算机总共有哪几种底层机制来保证并发的正确。

Example: Java底层实现机制

1. JVM的实现 2. CPU的指令

#### Volatile
如果一个字段被声明为volatile，Java线程内存模型确保所有线程看到这个变量的值是一致的。
在volatile的代码转为汇编语言的时候，前面会多一个lock指令。lock指令会引起处理器缓存回写到内存，而且一个处理器的缓存回写到内存会导致其他处理器的缓存失效。


#### synchronized
synchronized所用的锁是存在Java对象头里的。同事一把锁只能同时被一个线程获取，没有获得锁的线程只能等待；无论方法正常执行完毕还是抛出异常，都会释放锁
