### DNS：域名系统

Domain Name System，一项互联网服务，将域名和IP地址相互映射的一个**分布式数据库**，DNS使用TCP和UDP的端口53，目前，对于每一级域名长度限制为63字符，域名总长度不能超过253字符

### DNS协议：

- 用于将域名转为IP，将IP转换为域名

- 使用 UDP 53号端口
- 应用层协议

### DNS递归迭代查询过程：

1. 客户端向首选服务器查询
2. 首选服务器检查本地资源记录，如果存在则权威回答，如果不存在，就看是否有本地缓存，如果有记录则直接返回结果，否则就向根域名服务器查询。
3. 根域名服务器返回相关顶级权威域名服务器（Top-Level Domain， TLD）地址，首选域名服务器向顶级权威域名服务器查询
4. 顶级权威域名服务器返回次级域权威的域名服务器地址，首选服务器多次迭代找到权威回答，保存在本地缓存中并且返回给客户端

客户端到首选服务器的查询为**递归查询**（recursive query），通过首选服务器向根域名服务器，或是TLD服务器查询地址的查询为**迭代查询**（iterative query）。

DNS数据包不会被网络安全防范设备拦截，因此可以基于DNS协议建立隐蔽通道，从而顺利通过防火墙，在客户端和服务器之间隐蔽地传输数据



**根域名服务器**：根服务器主要用来管理互联网的主目录，最早是IPV4，全球只有13台（这13台IPv4根域名服务器名字分别为“A”至“M”），1个为主根服务器在美国，由美国互联网机构Network Solutions运作。其余12个均为辅根服务器，其中9个在美国，2个在欧洲(位于英国和瑞典)，1个在亚洲(位于日本)。

在与现有IPv4根服务器体系架构充分兼容基础上，“雪人计划”于2016年在全球16个国家完成25台IPv6根服务器架设，事实上形成了13台原有根加25台IPv6根的新格局，为建立多边、民主、透明的国际互联网治理体系打下坚实基础。中国部署了其中的4台，由1台主根服务器和3台辅根服务器组成，打破了中国过去没有根服务器的困境。 

当前,基于IPv6的下一代互联网成为各国推动新科技产业革命和重塑国家竞争力的先导领域,亚太互联网络信息中心预测,10年内IPv4将全面退出历史舞台,互联网将全面转向IPv6。

担忧多年的IPv4 地址耗尽时刻还是到了。负责英国、欧洲、中东和部分中亚地区互联网资源分配的欧洲网络协调中心通过邮件确认，其最后的 IPv4 地址储备池已于2019年11月25日完全耗尽。 [5] 工信部信息通信发展司司长闻库介绍：到2025年我国IPv6网络规模、用户规模、流量规模将位居世界第一位，网络、应用、终端全面支持IPv6，全面完成向下一代互联网平滑演进升级。

参考文献：[根域名服务器_百度百科 (baidu.com)](https://baike.baidu.com/item/根域名服务器/5907519)

