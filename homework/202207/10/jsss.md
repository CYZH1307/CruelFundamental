# 什么是缺页？操作系统发生大量频繁缺页的现象叫什么？(提示：thrashing)。它发生的原因是什么？

## 缺页

操作系统按照分页机制划分内存区域. 并且采用虚拟内存和物理内存映射的方式, 用页表/快表(TLB)来映射虚拟页到物理页的转换. 缺页是指该虚拟页对应的物理页内存还未加载进物理内存/加载物理内存但还未注册到MMU中. 即会发生缺页中断, 操作系统进入中断处理程序来处理. 最后重新执行导致中断的这条指令.

1. Hard Page Fault: 此时物理页还未加载到内存中
2. Soft Page Fault: 物理页加载到内存中但是还未注册到MMU中
3. Invalid Page Fault: 无效页错误, 访问无效页导致段错误.

## 抖动

页面频繁换入换出的现象叫抖动. 产生的原因是进程工作集大小大于物理内存大小, 导致了频繁的换入换出. 以及还可能和页面替换算法有关, 队列型的页面替换算法随着增大物理页, 其命中率反而会下降, 这种情况被称为[Belady异常](https://zhuanlan.zhihu.com/p/141096119). 而使用堆栈型的LUR页面替换算法就没这个问题.
