# Redis有两种持久化的方式
* AOF持久化
* RDB快照

一般redis持久化采用的是RDB快照+AOF

## AOF
客户端发送一条命令给服务端，服务端执行并且将写命令追加到AOF文件当中去，后续redis重启的时候通过AOF文件恢复数据。
## RDB
RDB 快照就是记录某一个瞬间的内存数据，Redis 恢复数据时， RDB 恢复数据的效率会比 AOF 高些。

## 在redis集群中，通过主从复制来同步数据
1. 首先从服务器发送连接请求
2. 主服务器将数据同步给从服务器（进行RDB全量快照，并且将RDB文件传输给从服务器）
3. 保持主从服务器的连接将后续的数据传输给从服务器
