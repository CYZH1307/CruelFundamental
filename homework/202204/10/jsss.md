# 负载均衡的实现方案有哪些

## 应用场景

1. 基于IP层的负载均衡

2. 基于DNS的负载均衡

3. 基于应用层的负载均衡(Nginx)

## 实现方法

1. 轮询类方法

    - 轮询
    - 加权轮询

2. 随机类方法

    - 随机
    - 加权随机

        随机一个数 % Max, 然后二分查找前缀和数组即可

    - 一致性哈希
    
        对节点进行哈希, 然后随机一个数查找其之后的第一个设备. 这样的好处是添加设备和删除设备的复杂度很低, 而加权随机方法删除设备的复杂度较高. 同时为了避免出现节点分布不均匀的情况出现, 可以添加虚拟节点, 即维护一个虚拟节点和真实节点的映射, 将虚拟节点添加到哈希环上去, 按照之前的方法找到虚拟节点后通过映射找到物理节点. 这样的好处是避免了分布不均的情况出现.