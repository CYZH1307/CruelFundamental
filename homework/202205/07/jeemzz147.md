### 消息中间件如何做到高可用？

RabbitMQ是基于主从复制来实现高可用的，不支持分布式。既然是主从复制，那么肯定就不是单台机器能保证的，所以是通过集群来保证高可用。而RabbitMQ的集群模式有两种：普通集群和镜像集群。真正实现高可用的是镜像集群模式。


实际上RabbitMQ并不是分布式消息队列，他就是传统的消息队列，只不过提供了一些集群、HA的机制而已，因为无论如何配置，rabbitmq一个queue的数据就存放在一个节点里面，镜像集群下，也是每个节点都放这个queue的全部数据。
