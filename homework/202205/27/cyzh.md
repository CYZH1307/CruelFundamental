## 2022/05/27

### C++: shared_ptr是如何实现的？

`shared_ptr`是利用一个计数器，使用拷贝构造函数，赋值运算符重载，作为函数返回值，或作为参数传给一个参数计数器`+1`，当`shared_ptr`被赋予一个新值或者需要销毁时，计数器`-1`，直到计数器为`0`时，调用析构函数，释放对象，并销毁其内存。`shaerd_ptr`不直接支持管理动态数组，如果希望使用`shared_ptr`管理一个动态数组，必须定制自己的删除器。