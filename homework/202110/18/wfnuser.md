# Nacos
Nacos主要承担服务发现与配置中心的职能。底层一致性算法基于raft实现。
在变更配置信息的时候采用的是长轮询；计划之后会迁移到长连接。
长轮询即客户端定期发起请求到服务端；服务端持有请求直到超时或者有变更时再返回数据，相比于短轮询实时性和性能都有很大的提高。
本质仍然是一种拉模型。

Nacos在服务端会维护一个allSubs队列记录所有监听中的连接。超时和有新变更的时候都会从allSubs移除相关连接。