## 进程/线程同步的方法？进程同步和线程同步有什么区别？进程有哪几种状态？

同步：多个进程相互合作，有先后执行顺序关系。

互斥：多个进程/线程同一时刻只有一个进程/线程可以进入临界区。

### 1、进程/线程同步的方法？

#### （1）进程同步方法：

进程间通信是实现进程同步的方式，最终目的是进程同步。因此常用的进程同步方法，就是进程间通信的方式。

- 管道：有名/匿名管道。
  - 有名管道：两个或多个进程间通信。
  - 匿名管道：亲缘关系进程间通信。
- 共享内存：映射一段可以被其他进程访问的内存。可以由同一个进程创建，多个进程访问。
- 信号：进程间通信的方式，信号可以在任何时候发给某一进程。
- 信号量：可以视为计数器，记录资源可以被多少个进程同时访问。
- 消息队列：数据传递的数据结构。速度较慢。
- 套接字：不同主机进程间通信。

#### （2）线程同步方法：

线程同步，不同进程之间进行线程同步，其实就是进程同步。统一进程内的多线程同步可以通过线程同步的方式进行。因为统一进程的多线程，可以共享线程的代码块，数据等资源。

- 互斥锁：互斥锁可以锁定代码块，对于被锁定的代码块，线程只能串行执行。
- 读写锁：互斥锁升级版，线程读操作并行，对写操作串行。对于读多的场景较好，如果是写多的场景，将会退化为互斥锁的情况。
- 条件变量：线程阻塞，与互斥锁一起配合使用，消费者生产者模型常用。
- 信号量：类似于计数器，有PV操作。多个线程同一时间访问同一资源，信号量可以阻塞线程。
- 自旋锁：不是通过休眠使进程阻塞，而是获取锁之前一直处于忙等待，自旋状态。
- 屏障：允许线程等待，都到达某一点，然后从该点继续执行。



### 2、进程同步和线程同步有什么区别？

进程同步主要是，多个进程之间进行，通信后通过按照一定顺序占用CPU，进行进程上下文切换，从而达到进程协作的方式，所以进程同步的方法，就是进程之间通信协商的方法。

线程同步：

如果是不同进程的线程同步，其实和进程同步一样。

但是是进程内部的多个线程同步，由于同个进程的线程，共享了代码段、数据段、文件等资源，不需要进行进程上下文的切换，因此可以通过设置互斥锁、读写锁的方式，改造代码进行线程同步。



### 3、进程有哪几种状态？

进程状态：

运行状态（Running）：进程占用CPU

就绪状态（Ready）：可运行状态，其他进程处于运行状态，暂时停止运行。

阻塞状态（Blocked）：进程正在等待某一事件发生（I/O)而暂时停止运行，CPU即使给控制权也无法运行。

创建状态（new）：进程正在被创建时的状态。

结束状态（Exit）：进程正在从系统中消失时状态。

挂起状态：进程没有占用实际物理内存。

​	（1）阻塞挂起：进程在外存等待某个事件出现。

​	（2）就绪挂起：进程在外存，只要进入内存，则立刻执行。

