在许多应用中进程需要以独占的方式访问资源，当操作系统允许多个进程并发执行时可能会出现进程永远被阻塞现象，如两个进程分别等待对方所占的资源，于是两者都不能执行而处于永远等待状态，此现象称为死锁。
***

## 互斥条件

临界资源是独占资源，进程应互斥且排他的使用这些资源。

## 占有和等待条件

进程在请求资源得不到满足而等待时，不释放已占有资源。

## 不剥夺条件

又称不可抢占，已获资源只能由进程自愿释放，不允许被其他进程剥夺。

## 循环等待条件

又称环路条件，存在循环等待链，其中，每个进程都在等待链中等待下一个进程所持有的资源，造成这组进程处于永远等待状态。
***
死锁产生的原因有很多，如：

* 进程顺序不当
* PV操作使用不妥
* 同类资源分配不均
* 对某些资源的使用未加限制

产生死锁的原因不仅与系统拥有的资源数量有关，而且与资源分配策略、进程对资源的使用要求以及进程的推进顺序有关。
***
死锁解决的方法

## 使资源同时访问而非互斥使用，就没有进程会阻塞在资源上，从而不发生死锁。

* 只读数据文件、磁盘等软硬件资源均可采用这种办法管理；
* 但是许多资源是独占性资源，如可写文件、键盘等只能互斥的占有；
* 所以这种做法在许多场合是不适用的。

## 采用静态分配的方式，静态分配的方式是指进程必须在执行之前就申请需要的全部资源，且直至所要的资源全部得到满足后才开始执行。

* 实现简单，但是严重的减低了资源利用率。
* 因为在每个进程占有的资源中，有些资源在运行后期使用，有些资源在例外情况下才被使用，可能会造成进程占有一些几乎用不到的资源，而使其他想使用这些资源的进程等待。

## 剥夺调度能够防止死锁，但是只适用于内存和处理器资源。
* 占有资源的进程若要申请新资源，必须主动释放已占有资源，若需要此资源，应该向系统重新申请。
* 资源分配管理程序为进程分配新资源时，若有则分配；否则将剥夺此进程已占有的全部资源，并让进程进入等待资源状态，资源充足后再唤醒它重新申请所有所需资源。

## 给系统的所有资源编号，规定进程请求所需资源的顺序必须按照资源的编号依次进行。

采用层次分配策略，将系统中所有的资源排列到不同层次中
* 一个进程得到某层的一个资源后，只能申请较高一层的资源
* 当进程释放某层的一个资源时，必须先释放所占有的较高层的资源
* 当进程获得某层的一个资源时，如果想申请同层的另一个资源，必须先释放此层中已占有的资源