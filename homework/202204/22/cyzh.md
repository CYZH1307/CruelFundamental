## 2022/04/22

### 谈谈什么是零拷贝

### 零拷贝：

指的是在计算机执行操作时，CPU不需要先将数据从某一处复制找到另外一处，常用于通过网络传输文件时节省CPU周期和内存带宽。



#### 在Linux中的零拷贝：

- 使用mmap来代替read，磁盘上的数据会通过DMA被拷贝的内核缓冲区，接着操作系统会把这段内核缓冲区与应用程序共享，这样就不需要把内核缓冲区的内容往用户空间拷贝。

- 使用sendfile，系统调用sendfile（）代表输入文件in_fd和代表输出文件的描述符out_fd之间传送文件内容（字节）。描述符out_fd必须指向一个套接字，而in_fd指向的文件必须是可以mmap的。这些局限限制了sendfile的使用，使sendfile只能将数据从文件传递到套接字上，反之则不行