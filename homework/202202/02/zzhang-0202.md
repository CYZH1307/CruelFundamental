# RDB vs AOF

RDB：

- 保存某个时间点的数据集，适合作为数据的备份
- 恢复数据集时比较快
- 保存RDB文件时，服务器用子进程来完成RDB文件创建，父进程不用IO操作
- 几分钟才存一次，若crash重启，会丢几分钟的数据
- 数据集大的时候，存整个数据集的快照会很慢



AOF：

- 数据完整，若用 everysec 最多丢失1秒的数据
- AOF为append-only，内容可读
- 数据恢复慢
- 根据所使用的fsync策略，AOF的速度可能会慢于RDB。 不过在一般情况下，每秒fsync的性能依然非常高。



当RDB与AOF两种方式都开启时，Redis会优先使用AOF恢复数据，因为AOF保存的文件比RDB文件更完整。

